---
layout: default
---
<!-- ----------------------------------------------------------------------------
  BRANDS INDEX LAYOUT
  ------------------------------------------------------------------------------
  This layout powers the main directory page for viewing all brand profiles.
  It is assigned to the `/brands/` page in each supported language.

  Purpose:
  - Dynamically includes sections defined in the page's front matter
  - Provides page-scoped CSS through the brands-page class
  - Loads JavaScript for dynamic filtering behavior
  - Creates semantic <section> elements for better accessibility and SEO
---------------------------------------------------------------------------- -->

{% comment %} Set default sections if none specified {% endcomment %}
{% unless page.sections %}
  {% assign sections_to_render = "breadcrumbs,hero,content,filter-interface,featured-brands,recent-brands,contact-cta" | split: "," %}
{% else %}
  {% assign sections_to_render = page.sections %}
{% endunless %}

{% comment %} Store page content for section includes {% endcomment %}
{% capture page_content %}{{ content }}{% endcapture %}

<div class="brands-page">
  {% comment %} Handle breadcrumbs separately outside panel system {% endcomment %}
  {% if sections_to_render contains "breadcrumbs" %}
    <section class="brands-section brands-section--breadcrumbs"
             id="brands-section-breadcrumbs"
             aria-labelledby="heading-breadcrumbs">
      {% include components/ui/breadcrumbs.html %}
    </section>
  {% endif %}
  
  {% comment %} All other sections use normal layout {% endcomment %}
  {% for section in sections_to_render %}
    {% unless section == "breadcrumbs" %}
      <section class="brands-section brands-section--{{ section }}" id="brands-section-{{ section }}" aria-labelledby="heading-{{ section }}">
        {% if section == "content" %}
          {% include pages/brands/{{ section }}.html content=page_content %}
        {% else %}
          {% include pages/brands/{{ section }}.html %}
        {% endif %}
      </section>
    {% endunless %}
  {% endfor %}
</div>

<!-- JavaScript for brand filtering and display -->
<script src="{{ '/assets/js/pages/brands/brands-filtering.js' | relative_url }}"></script>
<script src="{{ '/assets/js/components/search-placeholder.js' | relative_url }}"></script>
