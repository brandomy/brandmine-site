---
layout: default
---

<!-- ----------------------------------------------------------------------------
  INSIGHTS LAYOUT
  ------------------------------------------------------------------------------
  Uses the logic-light architecture pattern with section-based composition.
  Expects page.sections array in front matter of the page.

  Each section is included from _includes/pages/insights/[section].html

  Example page front matter:
  sections:
    - breadcrumbs
    - hero
    - content
    - category-navigation
    - categories
    - filter-interface
    - featured-insights
    - recent-insights
    - contact-cta

  Dependencies:
  - assets/css/pages/insights/_index.scss
---------------------------------------------------------------------------- -->

{% comment %} Set default sections if none specified {% endcomment %}
{% unless page.sections %}
  {% assign sections_to_render = "breadcrumbs,hero,content,category-navigation,categories,filter-interface,featured-insights,recent-insights,contact-cta" | split: "," %}
{% else %}
  {% assign sections_to_render = page.sections %}
{% endunless %}

{% comment %} Store page content for section includes {% endcomment %}
{% capture page_content %}{{ content }}{% endcapture %}

<div class="insights-page">
  {% comment %} Handle breadcrumbs separately outside panel system {% endcomment %}
  {% if sections_to_render contains "breadcrumbs" %}
    <section class="insights-section insights-section--breadcrumbs"
             id="insights-section-breadcrumbs"
             aria-labelledby="heading-breadcrumbs">
      {% include components/ui/breadcrumbs.html %}
    </section>
  {% endif %}
  
  {% comment %} All other sections use individual panel wrapping {% endcomment %}
  {% for section in sections_to_render %}
    {% unless section == "breadcrumbs" %}
      <section class="insights-section insights-section--{{ section }}"
               id="insights-section-{{ section }}"
               aria-labelledby="heading-{{ section }}">
        {% if section == "content" %}
          {% include pages/insights/{{ section }}.html content=page_content %}
        {% elsif section == "recent-insights" %}
          {% include pages/insights/{{ section }}.html carousel=true %}
        {% else %}
          {% include pages/insights/{{ section }}.html %}
        {% endif %}
      </section>
    {% endunless %}
  {% endfor %}
</div>

<!-- Insights search functionality -->
<script src="{{ '/assets/js/pages/insights/simple-insights-search.js' | relative_url }}"></script>

<!-- Insights carousel functionality -->
<script src="{{ '/assets/js/components/insights-carousel.js' | relative_url }}"></script>

<!-- Insights pagination functionality -->
<script src="{{ '/assets/js/pages/insights/insights-pagination.js' | relative_url }}"></script>
