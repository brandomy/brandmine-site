---
layout: default
---

<!-- ----------------------------------------------------------------------------
  INSIGHTS LAYOUT
  ------------------------------------------------------------------------------
  Uses the logic-light architecture pattern with section-based composition.
  Expects page.sections array in front matter of the page.

  Each section is included from _includes/pages/insights/[section].html

  Example page front matter:
  sections:
    - breadcrumbs
    - hero
    - featured-insights
    - categories
    - all-insights
    - subscribe
    - contact-cta

  Dependencies:
  - assets/css/pages/insights/_index.scss
---------------------------------------------------------------------------- -->

{% comment %} Set default sections if none specified {% endcomment %}
{% unless page.sections %}
  {% assign sections_to_render = "breadcrumbs,hero,categories,all-insights" | split: "," %}
{% else %}
  {% assign sections_to_render = page.sections %}
{% endunless %}

<div class="insights-page">
  {% comment %} Handle breadcrumbs separately outside panel system {% endcomment %}
  {% if sections_to_render contains "breadcrumbs" %}
    <section class="insights-section insights-section--breadcrumbs"
             id="insights-section-breadcrumbs"
             aria-labelledby="heading-breadcrumbs">
      {% include components/ui/breadcrumbs.html %}
    </section>
  {% endif %}
  
  {% comment %} All other sections use panel system {% endcomment %}
  <div class="panel panel--light">
    <div class="panel__content">
      {{ content }}
      
      {% for section in sections_to_render %}
        {% unless section == "breadcrumbs" %}
          <section class="insights-section insights-section--{{ section }}"
                   id="insights-section-{{ section }}"
                   aria-labelledby="heading-{{ section }}">
            {% include pages/insights/{{ section }}.html %}
          </section>
        {% endunless %}
      {% endfor %}
    </div>
  </div>
</div>

<!-- Insights search functionality -->
<script src="{{ '/assets/js/pages/insights/simple-insights-search.js' | relative_url }}"></script>
