{% comment %}
  Include Name: responsive-image.html
  
  Purpose: Renders a responsive image with proper srcset and sizes attributes to load
  appropriately sized images based on viewport width. Follows Brandmine's image 
  processing conventions with -400w, -800w, -1200w suffixes.
  
  Parameters:
  - path: Path to the original image (required)
  - alt: Alternative text for the image (required)
  - class: Additional CSS classes to apply to the img tag (optional)
  - base_width: Width of the smallest image variant (optional, default: '400')
  - mid_width: Width of the medium image variant (optional, default: '800')
  - large_width: Width of the largest image variant (optional, default: '1200')
  
  Dependencies:
  - Requires properly processed images with width-specific filenames
  - Images should be processed with _scripts/process_brand_images.sh or similar
  
  Example Usage:
  {% include responsive-image.html 
     path="assets/images/brands/teatime/logo.jpg" 
     alt="TeaTime brand logo" 
     class="brand-logo" %}
  
  Notes:
  - Automatically parses the filename and extension from the path
  - Constructs srcset with multiple resolution options
  - Sets sizes attribute for responsive behavior across viewport widths
  - File naming convention: "filename-400w.jpg", "filename-800w.jpg", etc.
{% endcomment %}

{% assign base_path = include.path | split: "." %}
{% assign base_name = base_path[0] %}
{% assign extension = base_path[1] %}
{% assign base_width = include.base_width | default: '400' %}
{% assign mid_width = include.mid_width | default: '800' %}
{% assign large_width = include.large_width | default: '1200' %}

<img src="{{ base_name }}-{{ base_width }}.{{ extension | relative_url }}"
     srcset="{{ base_name }}-{{ base_width }}.{{ extension | relative_url }} {{ base_width }}w,
             {{ base_name }}-{{ mid_width }}.{{ extension | relative_url }} {{ mid_width }}w,
             {{ base_name }}-{{ large_width }}.{{ extension | relative_url }} {{ large_width }}w"
     sizes="(max-width: 600px) {{ base_width }}px,
            (max-width: 1200px) {{ mid_width }}px,
            {{ large_width }}px"
     alt="{{ include.alt }}"
     {% if include.class %}class="{{ include.class }}"{% endif %}>