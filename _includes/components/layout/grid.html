{% comment %}
COMPONENT: Universal Grid Layout
PURPOSE: Reusable 2x2 grid component based on working latest-insights foundation

USAGE: {% include components/layout/grid.html items=collection type="insight" %}

PARAMETERS:
- items (required): Array of content items to display
- type (required): Content type for card selection ("insight", "brand", "founder")
- grid_class (optional): Additional CSS class for grid container (default: "universal-grid")
- card_variant (optional): Card variant override
- columns (optional): Column count override (default: responsive 2x2)
- limit (optional): Maximum items to display (default: 4)

DEPENDENCIES:
- CSS: assets/css/components/layout/universal-grid.scss
- Cards: components/cards/insight-latest-card.html or universal-card.html

NOTES: Direct copy of working latest-insights grid structure for identical appearance
{% endcomment %}

{% assign current_lang = page.lang | default: 'en' %}
{% assign grid_class = include.grid_class | default: "latest-insights" %}
{% assign limit = include.limit | default: 4 %}
{% assign card_type = include.type | default: "insight" %}

<div class="{{ grid_class }}__container">
  {% comment %} Get items to display {% endcomment %}
  {% if include.items %}
    {% assign items_to_show = include.items | limit: limit %}
  {% else %}
    {% assign items_to_show = '' | split: '' %}
  {% endif %}

  {% comment %} Display items using appropriate card component {% endcomment %}
  {% for item in items_to_show %}
    {% case card_type %}
      {% when "insight" %}
        {% include components/cards/insight-latest-card.html insight=item %}
      {% when "brand" %}
        {% include components/cards/universal-card.html 
           item=item 
           type="brand" 
           variant=include.card_variant 
           config_set="universal-card" %}
      {% when "founder" %}
        {% include components/cards/universal-card.html 
           item=item 
           type="founder" 
           variant=include.card_variant 
           config_set="universal-card" %}
      {% else %}
        {% include components/cards/universal-card.html 
           item=item 
           type=card_type 
           variant=include.card_variant 
           config_set="universal-card" %}
    {% endcase %}
  {% endfor %}

  {% comment %} Fill empty grid slots if needed {% endcomment %}
  {% assign empty_slots = limit | minus: items_to_show.size %}
  {% if empty_slots > 0 %}
    {% for i in (1..empty_slots) %}
      <div class="universal-grid__placeholder">
        <div class="universal-grid__placeholder-content">
          <div class="universal-grid__placeholder-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <circle cx="8.5" cy="8.5" r="1.5"></circle>
              <polyline points="21 15 16 10 5 21"></polyline>
            </svg>
          </div>
          <h3 class="universal-grid__placeholder-title">Content Coming Soon</h3>
          <p class="universal-grid__placeholder-description">New content will appear here</p>
        </div>
      </div>
    {% endfor %}
  {% endif %}
</div>