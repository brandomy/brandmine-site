{% comment %}
  Include Name: components/dimensions/discovery-dimensions-grid.html

  Purpose: Displays a responsive grid of the four taxonomy dimensions (sectors, markets, attributes, signals)
  with color-coded cards, translated titles and descriptions, example tags, and consistent styling across the Brandmine platform.

  Parameters:
  - title: Optional title override (default: uses dimensions.sectors.title[page.lang], etc.)
  - description: Optional description override (default: from dimensions.{type}.description[page.lang])
  - columns: Number of columns to display (optional, default: responsive based on screen size)
    Values: 1, 2, 3, 4
  - show_cta: Whether to show the CTA button at bottom (optional, default: true)
  - cta_url: URL for CTA button (optional, default: discover page)
  - cta_text: Text for CTA button (optional, default: from dimensions.explore_all[page.lang])
  - limit: Number of example tags to show per dimension (optional, default: 3)

  Dependencies:
  - Data source: site.data.dimensions
  - All translated labels and descriptions are drawn from the unified dimensions.json
  - CSS: assets/css/components/discovery-dimensions-grid.css
  - Include: components/icons/dimension-icon.html
  - Page must define `page.lang` to support multilingual rendering
  - Tag styling: components/tags.css

  Example Usage:
  Basic usage (all defaults):
  {% include components/dimensions/discovery-dimensions-grid.html %}

  Custom layout with two columns:
  {% include components/dimensions/discovery-dimensions-grid.html
     columns=2
     limit=2 %}

  Alternative CTA and no examples:
  {% include components/dimensions/discovery-dimensions-grid.html
     limit=0
     cta_text="View Dimension Options"
     cta_url="/en/discover/sectors/" %}

  Without CTA button:
  {% include components/dimensions/discovery-dimensions-grid.html
     show_cta=false %}

  Notes:
  - Each dimension has its own color scheme following Brandmine's visual taxonomy system
    (sectors: olive, markets: sky, attributes: secondary, signals: accent)
  - The grid is responsive and logic-light, relying on JSON for all content and translation
{% endcomment %}

<div class="discovery-dimensions-grid {% if include.columns %}discovery-dimensions-grid--columns-{{ include.columns }}{% endif %}">
  <!-- Sectors Dimension Card -->
  <div class="discovery-dimension discovery-dimension--sectors">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon">
        {% include components/icons/icon.html system="dimensions" type="sectors" name="default" size="lg" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.dimensions.dimensions[0].translations[page.lang].name }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.dimensions.dimensions[0].translations[page.lang].description }}</p>
    <div class="discovery-dimension__examples">
      {% assign sectors_array = site.data.sectors.sectors %}
      {% assign limit = include.limit | default: 3 %}
      {% for sector in sectors_array limit:limit %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/sectors/{{ sector.id }}/" class="tag tag--sector">{{ sector.translations[page.lang].name }}</a>
      {% endfor %}
      <span class="discovery-dimension__more">...</span>
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/sectors/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--sectors">
      {{ site.data.translations[page.lang].discover.view_all_sectors }}
    </a>
  </div>

  <!-- Markets Dimension Card -->
  <div class="discovery-dimension discovery-dimension--markets">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon">
        {% include components/icons/icon.html system="dimensions" type="markets" name="default"  size="lg" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.dimensions.dimensions[1].translations[page.lang].name }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.dimensions.dimensions[1].translations[page.lang].description }}</p>
    <div class="discovery-dimension__examples">
      {% assign markets_array = site.data.markets.markets %}
      {% assign limit = include.limit | default: 3 %}
      {% for market in markets_array limit:limit %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/markets/{{ market.id }}/" class="tag tag--market">{{ market.translations[page.lang].name }}</a>
      {% endfor %}
      <span class="discovery-dimension__more">...</span>
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/markets/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--markets">
      {{ site.data.translations[page.lang].discover.view_all_markets }}
    </a>
  </div>

  <!-- Attributes Dimension Card -->
  <div class="discovery-dimension discovery-dimension--attributes">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon">
        {% include components/icons/icon.html system="dimensions" type="attributes" name="default"  size="lg" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.dimensions.dimensions[2].translations[page.lang].name }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.dimensions.dimensions[2].translations[page.lang].description }}</p>
    <div class="discovery-dimension__examples">
      {% assign attributes_array = site.data.attributes.attributes %}
      {% assign limit = include.limit | default: 3 %}
      {% for attribute in attributes_array limit:limit %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/attributes/{{ attribute.id }}/" class="tag tag--attribute">{{ attribute.translations[page.lang].name }}</a>
      {% endfor %}
      <span class="discovery-dimension__more">...</span>
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/attributes/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--attributes">
      {{ site.data.translations[page.lang].discover.view_all_attributes }}
    </a>
  </div>

  <!-- Signals Dimension Card -->
  <div class="discovery-dimension discovery-dimension--signals">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon">
        {% include components/icons/icon.html system="dimensions" type="signals" name="default"  size="lg" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.dimensions.dimensions[3].translations[page.lang].name }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.dimensions.dimensions[3].translations[page.lang].description }}</p>
    <div class="discovery-dimension__examples">
      {% assign signals_array = site.data.signals.signals %}
      {% assign limit = include.limit | default: 3 %}
      {% for signal in signals_array limit:limit %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/signals/{{ signal.id }}/" class="tag tag--signal">{{ signal.translations[page.lang].name }}</a>
      {% endfor %}
      <span class="discovery-dimension__more">...</span>
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/signals/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--signals">
      {{ site.data.translations[page.lang].discover.view_all_signals }}
    </a>
  </div>
</div>

{% if include.show_cta != false %}
<div class="discovery-cta">
  <a href="{{ include.cta_url | default: site.baseurl | append: '/' | append: page.lang | append: '/discover/' }}" class="btn btn--primary-cta">{{ include.cta_text | default: site.data.translations[page.lang].discover.explore_all | default: "Explore All Discovery Paths" }}</a>
</div>
{% endif %}
