{% comment %}
  Include Name: components/dimensions/discovery-dimensions-grid.html

  Purpose: Displays a responsive grid of the four taxonomy dimensions (sectors, markets, attributes, signals)
  with color-coded cards, translated titles and descriptions, example tags, and consistent styling across the Brandmine platform.

  Parameters:
  - title: Optional title override (default: uses dimensions.sectors.title[page.lang], etc.)
  - description: Optional description override (default: from dimensions.{type}.description[page.lang])
  - columns: Number of columns to display (optional, default: responsive based on screen size)
    Values: 1, 2, 3, 4
  - show_cta: Whether to show the CTA button at bottom (optional, default: true)
  - cta_url: URL for CTA button (optional, default: discover page)
  - cta_text: Text for CTA button (optional, default: from dimensions.explore_all[page.lang])
  - limit: Number of example tags to show per dimension (optional, default: 3)

  Dependencies:
  - Data source: site.data.dimensions.{sectors|markets|attributes|signals}
  - All translated labels and descriptions are drawn from the unified dimensions.json
  - CSS: assets/css/components/discovery-dimensions-grid.css
  - Include: components/icons/dimension-icon.html
  - Page must define `page.lang` to support multilingual rendering
  - Tag styling: components/tags.css

  Example Usage:
  Basic usage (all defaults):
  {% include components/dimensions/discovery-dimensions-grid.html %}

  Custom layout with two columns:
  {% include components/dimensions/discovery-dimensions-grid.html
     columns=2
     limit=2 %}

  Alternative CTA and no examples:
  {% include components/dimensions/discovery-dimensions-grid.html
     limit=0
     cta_text="View Dimension Options"
     cta_url="/en/discover/sectors/" %}

  Without CTA button:
  {% include components/dimensions/discovery-dimensions-grid.html
     show_cta=false %}

  Notes:
  - Each dimension has its own color scheme following Brandmine's visual taxonomy system
    (sectors: olive, markets: sky, attributes: secondary, signals: accent)
  - The grid is responsive and logic-light, relying on JSON for all content and translation
{% endcomment %}

<div class="discovery-dimensions-grid {% if include.columns %}discovery-dimensions-grid--columns-{{ include.columns }}{% endif %}">
  <!-- Sectors Dimension Card -->
  <div class="discovery-dimension discovery-dimension--sectors">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon">
        {% include components/icons/dimension-icon.html type="sector" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.dimensions.sectors.title[page.lang] }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.dimensions.sectors.description[page.lang] }}</p>
    <div class="discovery-dimension__examples">
      {% assign sectors_data = site.data.dimensions.sectors %}
      {% assign limit = include.limit | default: 3 %}
      {% for sector_id in sectors_data limit:limit %}
        {% assign sector = sectors_data[sector_id] %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/sectors/{{ sector_id }}/" class="tag tag--sector">{{ sector.translations[page.lang].name }}</a>
      {% endfor %}
      <span class="discovery-dimension__more">...</span>
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/sectors/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--sectors">
      {{ site.data.dimensions.sectors.view_all[page.lang] }}
    </a>
  </div>

  <!-- Markets Dimension Card -->
  <div class="discovery-dimension discovery-dimension--markets">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon">
        {% include components/icons/dimension-icon.html type="market" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.dimensions.markets.title[page.lang] }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.dimensions.markets.description[page.lang] }}</p>
    <div class="discovery-dimension__examples">
      {% assign markets_data = site.data.dimensions.markets %}
      {% assign limit = include.limit | default: 3 %}
      {% for market_id in markets_data limit:limit %}
        {% assign market = markets_data[market_id] %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/markets/{{ market_id }}/" class="tag tag--market">{{ market.translations[page.lang].name }}</a>
      {% endfor %}
      <span class="discovery-dimension__more">...</span>
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/markets/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--markets">
      {{ site.data.dimensions.markets.view_all[page.lang] }}
    </a>
  </div>

  <!-- Attributes Dimension Card -->
  <div class="discovery-dimension discovery-dimension--attributes">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon">
        {% include components/icons/dimension-icon.html type="attribute" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.dimensions.attributes.title[page.lang] }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.dimensions.attributes.description[page.lang] }}</p>
    <div class="discovery-dimension__examples">
      {% assign attributes_data = site.data.dimensions.attributes %}
      {% assign limit = include.limit | default: 3 %}
      {% for attribute_id in attributes_data limit:limit %}
        {% assign attribute = attributes_data[attribute_id] %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/attributes/{{ attribute_id }}/" class="tag tag--attribute">{{ attribute.translations[page.lang].name }}</a>
      {% endfor %}
      <span class="discovery-dimension__more">...</span>
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/attributes/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--attributes">
      {{ site.data.dimensions.attributes.view_all[page.lang] }}
    </a>
  </div>

  <!-- Signals Dimension Card -->
  <div class="discovery-dimension discovery-dimension--signals">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon">
        {% include components/icons/dimension-icon.html type="signal" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.dimensions.signals.title[page.lang] }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.dimensions.signals.description[page.lang] }}</p>
    <div class="discovery-dimension__examples">
      {% assign signals_data = site.data.dimensions.signals %}
      {% assign limit = include.limit | default: 3 %}
      {% for signal_id in signals_data limit:limit %}
        {% assign signal = signals_data[signal_id] %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/signals/{{ signal_id }}/" class="tag tag--signal">{{ signal.translations[page.lang].name }}</a>
      {% endfor %}
      <span class="discovery-dimension__more">...</span>
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/signals/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--signals">
      {{ site.data.dimensions.signals.view_all[page.lang] }}
    </a>
  </div>
</div>

{% if include.show_cta != false %}
<div class="discovery-cta">
  <a href="{{ include.cta_url | default: site.baseurl | append: '/' | append: page.lang | append: '/discover/' }}" class="btn btn--primary-cta">{{ include.cta_text | default: site.data.dimensions.explore_all[page.lang] | default: "Explore All Discovery Paths" }}</a>
</div>
{% endif %}
