{% comment %}
  Include Name: components/dimensions/discovery-dimensions-grid.html
  Purpose: Displays a grid of discovery dimensions (sectors, markets, attributes, signals)
  with consistent styling, example tags, and calls-to-action.
{% endcomment %}

<div class="discovery-dimensions-grid {% if include.columns %}discovery-dimensions-grid--columns-{{ include.columns }}{% endif %}">
  <!-- Sectors Dimension Card -->
  <div class="discovery-dimension discovery-dimension--sectors">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon discovery-dimension__icon--isolated">
        {% include components/icons/icon.html system="dimensions" type="sectors" name="default" class="icon--discovery-test" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.translations[page.lang].tags.sectors }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.translations[page.lang].discovery.sectors_description }}</p>
    <div class="discovery-dimension__examples">
      {% assign sectors_array = site.data.sectors.sectors %}
      {% assign limit = include.limit | default: 3 %}
      {% for sector in sectors_array limit:limit %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/sectors/{{ sector.id }}/" class="tag tag--sector">{{ sector.translations[page.lang].name }}</a>
      {% endfor %}
      {% if sectors_array.size > limit %}
        <span class="discovery-dimension__more">+{{ sectors_array.size | minus: limit }} more</span>
      {% endif %}
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/sectors/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--sectors">
      {{ site.data.translations[page.lang].discovery.view_all_sectors }}
    </a>
  </div>

  <!-- Markets Dimension Card -->
  <div class="discovery-dimension discovery-dimension--markets">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon discovery-dimension__icon--isolated">
        {% include components/icons/icon.html system="dimensions" type="markets" name="default" class="icon--discovery-test" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.translations[page.lang].tags.markets }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.translations[page.lang].discovery.markets_description }}</p>
    <div class="discovery-dimension__examples">
      {% assign markets_array = site.data.markets.markets %}
      {% assign limit = include.limit | default: 3 %}
      {% for market in markets_array limit:limit %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/markets/{{ market.id }}/" class="tag tag--market">{{ market.translations[page.lang].name }}</a>
      {% endfor %}
      {% if markets_array.size > limit %}
        <span class="discovery-dimension__more">+{{ markets_array.size | minus: limit }} more</span>
      {% endif %}
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/markets/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--markets">
      {{ site.data.translations[page.lang].discovery.view_all_markets }}
    </a>
  </div>

  <!-- Attributes Dimension Card -->
  <div class="discovery-dimension discovery-dimension--attributes">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon discovery-dimension__icon--isolated">
        {% include components/icons/icon.html system="dimensions" type="attributes" name="default" class="icon--discovery-test" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.translations[page.lang].tags.attributes }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.translations[page.lang].discovery.attributes_description }}</p>
    <div class="discovery-dimension__examples">
      {% assign attributes_array = site.data.attributes.attributes %}
      {% assign limit = include.limit | default: 3 %}
      {% for attribute in attributes_array limit:limit %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/attributes/{{ attribute.id }}/" class="tag tag--attribute">{{ attribute.translations[page.lang].name }}</a>
      {% endfor %}
      {% if attributes_array.size > limit %}
        <span class="discovery-dimension__more">+{{ attributes_array.size | minus: limit }} more</span>
      {% endif %}
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/attributes/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--attributes">
      {{ site.data.translations[page.lang].discovery.view_all_attributes }}
    </a>
  </div>

  <!-- Signals Dimension Card -->
  <div class="discovery-dimension discovery-dimension--signals">
    <div class="discovery-dimension__header">
      <div class="discovery-dimension__icon discovery-dimension__icon--isolated">
        {% include components/icons/icon.html system="dimensions" type="signals" name="default" class="icon--discovery-test" %}
      </div>
      <h3 class="discovery-dimension__title">{{ site.data.translations[page.lang].tags.signals }}</h3>
    </div>
    <p class="discovery-dimension__description">{{ site.data.translations[page.lang].discovery.signals_description }}</p>
    <div class="discovery-dimension__examples">
      {% assign signals_array = site.data.signals.signals %}
      {% assign limit = include.limit | default: 3 %}
      {% for signal in signals_array limit:limit %}
        <a href="{{ site.baseurl }}/{{ page.lang }}/discover/signals/{{ signal.id }}/" class="tag tag--signal">{{ signal.translations[page.lang].name }}</a>
      {% endfor %}
      {% if signals_array.size > limit %}
        <span class="discovery-dimension__more">+{{ signals_array.size | minus: limit }} more</span>
      {% endif %}
    </div>
    <a href="{{ site.baseurl }}/{{ page.lang }}/discover/signals/" class="discovery-dimension__link btn btn--outline discovery-dimension__link--signals">
      {{ site.data.translations[page.lang].discovery.view_all_signals }}
    </a>
  </div>
</div>

{% if include.show_cta != false %}
<div class="discovery-cta">
  <a href="{{ include.cta_url | default: site.baseurl | append: '/' | append: page.lang | append: '/discover/' }}" class="btn btn--primary-cta">{{ include.cta_text | default: site.data.translations[page.lang].discovery.explore_all | default: "Explore All Discovery Paths" }}</a>
</div>
{% endif %}
