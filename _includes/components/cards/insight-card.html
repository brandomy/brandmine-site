{% comment %}
  Include Name: components/cards/insight-card.html
  
  Purpose: Displays an insight article in a card format with thumbnail image, metadata,
  and taxonomy information. Used in insight listings, feeds, and related content sections.
  
  Parameters:
  - insight: Insight object with complete details (required)
    Expected properties:
    - title: Insight title
    - images.hero: Path to thumbnail image
    - premium: Boolean flag for premium insights (optional)
    - date: Publication date
    - author: Author key for translation lookup
    - excerpt: Short excerpt or description
    - sectors: Array of sector slugs (not names)
    - markets: Array of market slugs (not names)
    - url: URL to insight detail page
    - cta: Custom call-to-action text (optional, default: "Read More")
  
  Dependencies:
  - CSS: insight-card.css for styling
  - site.data.translations for dimension names and author translations
  - components/translate-name.html for author name translation
  
  Example Usage:
  {% for insight in site.insights %}
    {% include components/cards/insight-card.html insight=insight %}
  {% endfor %}
  
  Notes:
  - Uses images.hero for thumbnail images
  - Displays author using translation lookup via translate-name include
  - Converts sector and market slugs to display names using translations
  - Truncates to first 3 sectors with +X indicator
  - Uses BEM naming conventions for all CSS classes
{% endcomment %}

<article class="insight-card">
  <div class="insight-card__image">
    {% if insight.images.hero %}
      <img src="{{ insight.images.hero }}" alt="{{ insight.title }} thumbnail">
    {% endif %}
    {% if insight.premium %}
      <div class="insight-card__premium-badge">
        <span class="insight-card__premium-icon">â˜…</span>
      </div>
    {% endif %}
  </div>

  <div class="insight-card__content">
    <h3 class="insight-card__title">{{ insight.title }}</h3>

    <div class="insight-card__meta">
      <span class="insight-card__date">{{ insight.date | date: "%b %-d, %Y" }}</span>
      <span class="insight-card__author">
        {% include components/translate-name.html type="authors" key=insight.author %}
      </span>
    </div>

    <p class="insight-card__excerpt">{{ insight.excerpt }}</p>

    <div class="insight-card__taxonomy">
      {% if insight.sectors %}
      <div class="insight-card__sectors">
        {% for sector in insight.sectors limit:3 %}
          <span class="insight-card__sector-tag">{{ site.data.dimensions[page.lang].sectors[sector] }}</span>
        {% endfor %}
        {% if insight.sectors.size > 3 %}
          <span class="insight-card__more-tag">+{{ insight.sectors.size | minus:3 }}</span>
        {% endif %}
      </div>
      {% endif %}
      
      {% if insight.markets %}
      <div class="insight-card__markets">
        {% for market in insight.markets %}
          <span class="insight-card__market-tag">{{ site.data.dimensions[page.lang].markets[market] }}</span>
        {% endfor %}
      </div>
      {% endif %}
    </div>

    <a href="{{ insight.url }}" class="insight-card__read-more">
      {{ insight.cta | default: site.data.translations[page.lang].insights.read_more }}
    </a>
  </div>
</article>