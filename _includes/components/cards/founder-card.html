{% comment %}
COMPONENT: Founder Card (Optimized)
PURPOSE: Standard founder display for grid layouts with portrait, company, and expertise
USAGE: {% include components/cards/founder-card.html founder=founder %}

PARAMETERS:
- founder (required): Founder object containing name, company, bio, expertise, location
- show_company (optional): Boolean - Show company info. Default: true
- show_expertise (optional): Boolean - Show expertise tags. Default: true  
- tag_limit (optional): Integer - Max expertise tags to display. Default: 3
- variant (optional): String - Card style variant: "featured", "focus" for enhanced layouts. Default: standard

DEPENDENCIES:
- helpers/t.html - Translation helper for UI text
- components/images/collection-image.html - Portrait images
- helpers/component-defaults.html - Configurable defaults (minimal usage)

OPTIMIZED DESIGN:
- Portrait with name + location
- Company + position (if available)
- Brief bio description
- Top 3 expertise tags
- View profile CTA
{% endcomment %}

{% comment %} Minimal component defaults (following brand-card pattern) {% endcomment %}
{% capture show_company %}{% include helpers/component-defaults.html component="cards.founder-card" param="show_company" fallback=true %}{% endcapture %}
{% capture show_expertise %}{% include helpers/component-defaults.html component="cards.founder-card" param="show_expertise" fallback=true %}{% endcapture %}
{% capture tag_limit %}{% include helpers/component-defaults.html component="cards.founder-card" param="tag_limit" fallback=3 %}{% endcapture %}

{% assign show_company = include.show_company | default: show_company %}
{% assign show_expertise = include.show_expertise | default: show_expertise %}
{% assign tag_limit = include.tag_limit | default: tag_limit %}
{% assign variant = include.variant | default: "standard" %}
{% assign founder = include.founder %}

<article class="founder-card {% if founder.featured %}founder-card--featured{% endif %}">
  
  <!-- Portrait Section -->
  <div class="founder-card__portrait">
    {% if founder.images and founder.images.portrait and founder.images.portrait.name %}
      {% include components/images/collection-image.html
         collection="founders"
         slug=founder.ref
         purpose="portrait"
         name=founder.images.portrait.name
         alt=founder.images.portrait.alt
         class="founder-card__portrait-img"
         sizes="(max-width: 480px) 150px, 200px" %}
    {% elsif founder.images and founder.images.headshot and founder.images.headshot.name %}
      {% include components/images/collection-image.html
         collection="founders"
         slug=founder.ref
         purpose="headshot"
         name=founder.images.headshot.name
         alt=founder.images.headshot.alt
         class="founder-card__portrait-img"
         sizes="(max-width: 480px) 150px, 200px" %}
    {% else %}
      <div class="founder-card__portrait-placeholder">
        {% assign name_parts = founder.name | split: " " %}
        {% for part in name_parts limit:2 %}{{ part | first | upcase }}{% endfor %}
      </div>
    {% endif %}

    <!-- Generation Badge (if present) -->
    {% if founder.generation %}
    <div class="founder-card__generation-badge">
      {% case founder.generation %}
        {% when 'first' %}1st
        {% when 'second' %}2nd  
        {% when 'third' %}3rd
        {% else %}{{ founder.generation | capitalize }}
      {% endcase %}
    </div>
    {% endif %}
  </div>

  <!-- Content Section -->
  <div class="founder-card__content">
    
    <!-- Name & Location -->
    <h3 class="founder-card__name">{{ founder.name }}</h3>
    
    {% if founder.city or founder.country %}
    <div class="founder-card__location">
      {% if founder.city %}{{ founder.city }}{% endif %}
      {% if founder.city and founder.country %}, {% endif %}
      {% if founder.country %}{{ founder.country }}{% endif %}
    </div>
    {% endif %}

    <!-- Company & Position -->
    {% if show_company and (founder.company or founder.position) %}
    <div class="founder-card__company">
      {% if founder.position %}{{ founder.position }}{% endif %}
      {% if founder.position and founder.company %} â€¢ {% endif %}
      {% if founder.company %}{{ founder.company }}{% endif %}
    </div>
    {% endif %}

    <!-- Bio Description -->
    {% if founder.bio %}
    <p class="founder-card__bio">
      {{ founder.bio | truncatewords: 25 }}
    </p>
    {% endif %}

    <!-- Expertise Tags -->
    {% if show_expertise and founder.expertise %}
    <div class="founder-card__expertise">
      {% for expertise in founder.expertise limit:tag_limit %}
        <span class="founder-card__tag">{{ expertise }}</span>
      {% endfor %}
    </div>
    {% endif %}

  </div>

  <!-- Footer CTA -->
  <footer class="founder-card__footer">
    <a href="{{ founder.url | relative_url }}" class="founder-card__link">
      {% include helpers/t.html key="common.actions.view_profile" fallback="View Profile" %}
    </a>
  </footer>

</article>