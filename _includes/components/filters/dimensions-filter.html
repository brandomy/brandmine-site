{% comment %}
================================================================================
COMPONENT: Dimensions Filter
PATH: _includes/components/filters/dimensions-filter.html
PURPOSE: Interactive filter component for organizing content by dimension taxonomy (sectors, markets, attributes, signals)
CREATED: 2024-01-01 | VERSION: 1.2
================================================================================

Features:
- Dynamic filtering by dimension taxonomy
- Automatic extraction of unique dimensions from content
- Translated dimension names with fallback support
- Color-coded tags by dimension type
- Responsive tag grid layout
- Direct links to dimension-specific pages
- Sidebar integration for insights and discovery pages

Parameters:
- insights (required): Array - Collection of insight objects to extract dimensions from
- dimension_type (required): String - Type of dimension to filter by ("sectors", "markets", "attributes", "signals")
- heading (optional): String - Custom section heading. Default: translated dimension type name
- show_count (optional): Boolean - Display count of items per dimension. Default: false
- limit (optional): Integer - Maximum number of dimensions to display. Default: unlimited

Dependencies:
- CSS: assets/css/components/filters/dimensions-filter.scss
- Helpers: helpers/t.html (translation helper)
- Data: site.data.translations for dimension names
- Taxonomy: Four-tier dimension system (markets, sectors, attributes, signals)

Usage Examples:
{% include components/filters/dimensions-filter.html insights=site.insights dimension_type="sectors" %}
{% include components/filters/dimensions-filter.html insights=filtered_insights dimension_type="markets" heading="Geographic Markets" %}
{% include components/filters/dimensions-filter.html insights=latest_insights dimension_type="attributes" show_count=true limit=8 %}

Real-world Usage:
Used in insights sidebar, discovery pages, and dimension overview sections

BEM Structure:
- .insights-all__sidebar-section (main filter container)
- .insights-all__sidebar-heading (section heading)
- .insights-all__tags (tag grid container)
- .tag (individual dimension tag)
- .tag--[dimension_type] (color-coded dimension modifier)

Accessibility:
- Semantic heading structure for section organization
- Descriptive link text with translated dimension names
- High contrast color coding for different dimension types
- Keyboard navigation support for all links
- Screen reader friendly dimension organization

Responsive:
- Mobile: Single column tag layout with touch-friendly sizing
- Tablet: Two-column tag grid with enhanced spacing
- Desktop: Multi-column tag grid with optimal tag sizing

Performance Notes:
- Efficient dimension extraction with Liquid filters
- Minimal DOM impact with link-based navigation
- Cached translation lookups for dimension names
- Optimized CSS for tag grid rendering
================================================================================
{% endcomment %}

{% assign insights = include.insights %}
{% assign dimension_type = include.dimension_type %}

<div class="insights-all__sidebar-section">
  {% if include.heading == blank %}{% assign dimension_key = "dimensions." | append: dimension_type %}{% endif %}
  <h3 class="insights-all__sidebar-heading">{{ include.heading | default: "" }}{% if include.heading == blank %}{% include helpers/t.html key=dimension_key fallback=dimension_type %}{% endif %}</h3>
  <div class="insights-all__tags">
    {% assign all_dimensions = insights | map: dimension_type | flatten | uniq %}
    {% for dimension in all_dimensions %}
      <a href="{{ site.baseurl }}/{{ page.lang }}/discover/{{ dimension_type }}/{{ dimension }}/" class="tag tag--{{ dimension_type }}">
        {% assign full_dimension_key = "dimensions." | append: dimension_type | append: "." | append: dimension %}
        {% include helpers/t.html key=full_dimension_key fallback=dimension %}
      </a>
    {% endfor %}
  </div>
</div>