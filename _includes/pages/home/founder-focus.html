{% comment %}
  Component: pages/home/founder-focus.html

  Purpose: Displays a scrollable horizontal section highlighting featured founder profiles on the homepage.
  This component emphasizes Brandmine's unique positioning as a platform that elevates brand founders.

  Parameters:
    title (optional): Custom section title, defaults to "Beyond Listings: The Human Stories Driving BRICS+ Innovation"
    lead_text (optional): Custom lead text
    panel_type (optional): Panel style/color, defaults to "olive-soft"
    cta_text (optional): Custom CTA button text, defaults to "Meet All Founders"
    cta_url (optional): Custom CTA button URL, defaults to the founders page
    limit (optional): Number of founders to display, defaults to 4
    featured_only (optional): When true, only shows founders with featured=true (default: true)

  Dependencies:
    - CSS: assets/css/pages/home/founder-focus.scss
    - CSS: assets/css/components/cards/founder-card.scss
    - JavaScript: assets/js/founder-carousel.js (for dot navigation and scrolling)
    - Includes: components/cards/founder-card.html

  Usage:
  {% include pages/home/founder-focus.html %}
  {% include pages/home/founder-focus.html panel_type="accent-soft" %}
  {% include pages/home/founder-focus.html
     title="Custom Title"
     lead_text="Custom description"
     cta_text="Meet the Founders" %}
{% endcomment %}

{% assign current_lang = page.lang | default: 'en' %}

{% assign panel_type = include.panel_type | default: "olive-soft" %}
{% assign limit = include.limit | default: 4 %}
{% assign featured_only = include.featured_only | default: true %}

<div class="panel panel--{{ panel_type }}">
  <div class="panel__content">
    <h2 class="panel__heading-secondary">
      {{ include.title | default: "" }}{% unless include.title %}{% include helpers/t.html key="home.founder_focus.title" fallback="Beyond Listings: The Human Stories Driving BRICS+ Innovation" %}{% endunless %}
    </h2>
    <p class="panel__lead-text">
      {{ include.lead_text | default: "" }}{% unless include.lead_text %}{% include helpers/t.html key="home.founder_focus.subtitle" fallback="At a critical generational transition point, we illuminate the founder journeys behind BRICS+ brandsâ€”providing context and insight impossible to find through traditional research." %}{% endunless %}
    </p>

    {% if featured_only %}
      {% assign founders = site.founders | where: "lang", current_lang | where: "featured", true | limit: limit %}
    {% else %}
      {% assign founders = site.founders | where: "lang", current_lang | limit: limit %}
    {% endif %}
    

    <div class="founder-focus-carousel">
      {% if founders.size > 0 %}
        {% for founder in founders %}
          {% include components/cards/founder-card.html founder=founder %}
        {% endfor %}
      {% else %}
        <!-- Temporary display until founder profiles are added -->
        <div class="founder-focus-placeholder">
          <div class="founder-card founder-card--placeholder">
            <div class="founder-card__header">
              <div class="founder-card__portrait founder-card__portrait-placeholder">
                <span>IP</span>
              </div>
              <div class="founder-card__header-text">
                <h3 class="founder-card__title">Ivan Petrov</h3>
                <p class="founder-card__generation">{% include helpers/t.html key="generation.first" fallback="1st Generation" %}</p>
              </div>
            </div>
            <div class="founder-card__body">
              <p class="founder-card__brand">{% include helpers/t.html key="founder.founder_of" fallback="Founder of" %} <strong>Altai Honey</strong></p>
              <div class="founder-card__tags">
                <span class="founder-card__tag founder-card__tag--market">Russia</span>
                <span class="founder-card__tag founder-card__tag--expertise">Beekeeping</span>
              </div>
            </div>
          </div>

          <div class="founder-card founder-card--placeholder">
            <div class="founder-card__header">
              <div class="founder-card__portrait founder-card__portrait-placeholder">
                <span>MS</span>
              </div>
              <div class="founder-card__header-text">
                <h3 class="founder-card__title">Maria Silva</h3>
                <p class="founder-card__generation">{% include helpers/t.html key="generation.second" fallback="2nd Generation" %}</p>
              </div>
            </div>
            <div class="founder-card__body">
              <p class="founder-card__brand">{% include helpers/t.html key="founder.founder_of" fallback="Founder of" %} <strong>Serra Verde</strong></p>
              <div class="founder-card__tags">
                <span class="founder-card__tag founder-card__tag--market">Brazil</span>
                <span class="founder-card__tag founder-card__tag--expertise">Sustainable Agriculture</span>
              </div>
            </div>
          </div>
        </div>
      {% endif %}
    </div>

    {% assign founder_count = founders.size | plus: 0 %}
    {% if founder_count > 3 %}
    <div class="founder-focus-nav">
      <!-- For 4 founders with 3 visible, we need 2 positions: 0-2 and 1-3 -->
      <div class="founder-focus-nav-dot active" data-slide="0"></div>
      <div class="founder-focus-nav-dot" data-slide="1"></div>
    </div>
    {% endif %}

    <div class="cta-buttons">
      <a href="{{ include.cta_url | default: site.baseurl | append: '/' | append: current_lang | append: '/founders/' }}"
         class="btn btn--primary-cta"
         data-track="founder-focus">
        {{ include.cta_text | default: "" }}{% unless include.cta_text %}{% include helpers/t.html key="home.founder_focus.cta" fallback="Meet All Founders" %}{% endunless %}
      </a>
    </div>
  </div>
</div>

