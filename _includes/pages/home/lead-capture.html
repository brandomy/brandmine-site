{% comment %}
  Component: pages/home/lead-capture.html

  Purpose: Displays a newsletter subscription section using MailerLite integration

  Parameters:
    title (optional): Custom section title, defaults to translation
    lead_text (optional): Custom lead text, defaults to translation
    panel_type (optional): Panel style/color, defaults to "lead-capture"

  Dependencies:
    - CSS: components/lead-capture.css
    - External: MailerLite embed script (loaded in default layout)

  Usage:
  {% include pages/home/lead-capture.html %}
  {% include pages/home/lead-capture.html panel_type="primary-dark" %}
  {% include pages/home/lead-capture.html title="Custom Title" lead_text="Custom description" %}
{% endcomment %}

{% assign current_lang = page.lang | default: 'en' %}
{% assign panel_type = include.panel_type | default: "lead-capture" %}

<div class="panel panel--{{ panel_type }}">
  <div class="panel__content">
    <h2 class="panel__heading-secondary">
      {{ include.title | default: "" }}{% unless include.title %}{% include helpers/t.html key="home.lead_capture.title" fallback="Stay Updated on BRICS+ Opportunities" %}{% endunless %}
    </h2>
    <p class="panel__lead-text">
      {{ include.lead_text | default: "" }}{% unless include.lead_text %}{% include helpers/t.html key="home.lead_capture.subtitle" fallback="Subscribe to receive curated insights about emerging brands and market trends" %}{% endunless %}
    </p>

    <div class="lead-capture__container">
      <!-- MailerLite Form -->
      <div class="lead-capture__form">
        {% if current_lang == 'ru' %}
          <div class="ml-embedded" data-form="WVRNPI"></div>
        {% elsif current_lang == 'zh' %}
          <div class="ml-embedded" data-form="WRga0a"></div>
        {% else %}
          <div class="ml-embedded" data-form="480swE"></div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
