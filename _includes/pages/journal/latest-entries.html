{% comment %}
  Component: pages/journal/latest-entries.html
  Purpose: Display grid of recent journal entries
  Parameters:
    - limit: Number of entries to show (default: 6)
  Dependencies:
    - assets/css/pages/journal/latest-entries.scss
    - _includes/pages/journal/entry-card.html
{% endcomment %}

{% assign t = site.data.translations[page.lang].journal %}
{% assign limit = include.limit | default: 6 %}

{% comment %} Get recent posts {% endcomment %}
{% assign recent_posts = site.posts | where: "lang", page.lang | sort: "date" | reverse | limit: limit %}

<div class="panel panel--light">
  <div class="panel__content">
    <h2 class="section-title">{{ t.latest_entries_title | default: "Latest Journal Entries" }}</h2>
    
    {% if recent_posts.size > 0 %}
      <div class="journal-entries-grid">
        {% for post in recent_posts %}
          {% include pages/journal/entry-card.html post=post %}
        {% endfor %}
      </div>
      
      {% if site.posts.size > limit %}
        <div class="journal-entries-actions">
          <a href="{{ '/journal/' | prepend: '/' | append: page.lang | append: '/' | relative_url }}" class="button button--primary">
            {{ t.view_all_entries | default: "View All Entries" }}
          </a>
        </div>
      {% endif %}
    {% else %}
      <div class="empty-state">
        <p>{{ t.no_entries | default: "No journal entries available yet." }}</p>
      </div>
    {% endif %}
  </div>
</div>