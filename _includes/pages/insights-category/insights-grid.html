{% comment %}
  Section: insights-category/insights-grid.html

  Displays filtered insights grid for specific category type

  Dependencies:
  - Translation helper include for multilingual labels
  - _includes/components/cards/insight-card.html for individual cards
  - site.insights collection
  - page.lang and page.category for filtering
{% endcomment %}

{% comment %} Filter insights by language and category {% endcomment %}
{% assign empty_array = "" | split: "" %}
{% assign category_value = page.category | default: page.insight_type %}
{% assign type_insights = site.insights | default: empty_array | where: "lang", page.lang | where: "category", category_value | sort: "date" | reverse %}

<!-- Grid section header -->
<div class="insights-grid-header" style="text-align: center; margin-bottom: 2rem; width: 100%;">
  <h2 class="insights-grid-title" style="font-size: 2rem; font-weight: 600; margin: 0; font-family: var(--font-heading);">
    {% include helpers/t.html key="insights.latest_heading" fallback="Latest Insights" lang=page.lang %}
  </h2>
</div>

<div class="insights-category-grid">
  {% if type_insights.size > 0 %}
    <div class="insights-grid">
      {% for insight in type_insights %}
        {% include components/cards/insight-card.html insight=insight %}
      {% endfor %}
    </div>
  {% else %}
    <div class="insights-category-empty">
      <p class="no-insights">{% include helpers/t.html key="insights.no_insights_message" fallback="No insights available yet. Check back soon!" lang=page.lang %}</p>
    </div>
  {% endif %}
</div>
