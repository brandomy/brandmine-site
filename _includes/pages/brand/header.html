{% comment %}
  Component: pages/brand/header.html
  Purpose: Displays the header section of a brand page, including logo, basic metadata, and founder information
  Parameters:
    - brand: The brand object to display (default: page)
  Dependencies:
    - assets/css/pages/brand/header.scss
    - components/images/collection-image.html
    - components/brand/founder-info.html
    - site.data.translations[lang].dimensions
    - site.data.dimensions[lang]
{% endcomment %}

<!-- Refactored header.html -->
{% assign brand = include.brand | default: page %}

<div class="brand-header">
  <div class="brand-header__logo-container">
    {% if brand.logo %}
    {% include components/images/collection-image.html
       collection="brands"
       slug=brand.slug
       purpose="logo"
       aspect="square"
       ext="png"
       alt=brand.title %}
    {% endif %}
  </div>

  <div class="brand-header__content">
    <h1 class="brand-header__title">{{ brand.title }}</h1>

    {% if brand.slogan %}
    <div class="brand-header__slogan">"{{ brand.slogan }}"</div>
    {% endif %}

    <div class="brand-header__meta">
      <!-- Sectors -->
      {% if brand.sectors %}
        {% assign sectors_label = site.data.translations[brand.lang].dimensions.sectors %}
        {% assign sectors_translations = site.data.dimensions[brand.lang].sectors %}

        {% include components/brand/meta-item.html
           label=sectors_label
           items=brand.sectors
           type="sector"
           translations=sectors_translations
           lang=brand.lang
           base_url=site.baseurl
           linkable=true %}
      {% endif %}

      <!-- Subsectors -->
      {% if brand.subsectors %}
        {% assign subsectors_label = site.data.translations[brand.lang].brand.subsectors %}

        {% include components/brand/meta-item.html
           label=subsectors_label
           items=brand.subsectors
           type="subsector"
           linkable=false %}
      {% endif %}

      <!-- Markets -->
      {% if brand.markets %}
        {% assign markets_label = site.data.translations[brand.lang].dimensions.markets %}
        {% assign markets_translations = site.data.dimensions[brand.lang].markets %}

        {% include components/brand/meta-item.html
           label=markets_label
           items=brand.markets
           type="market"
           translations=markets_translations
           lang=brand.lang
           base_url=site.baseurl
           linkable=true %}
      {% endif %}

      <!-- Founding Year -->
      {% if brand.founding_year %}
      <div class="brand-header__meta-item">
        <span class="brand-header__meta-label">{{ site.data.translations[brand.lang].brand.founding_year }}:</span>
        <span class="brand-header__meta-value">{{ brand.founding_year }}</span>
      </div>
      {% endif %}
    </div>

    <!-- Founder Info -->
    {% include components/brand/founder-info.html
       founder=brand.founder
       portrait=brand.founder_portrait
       lang=brand.lang
       brand_slug=brand.slug %}

    <!-- Featured Level Indicator -->
    {% if brand.featured_level > 1 %}
    <div class="brand-header__featured-badge">{{ site.data.translations[brand.lang].general.featured }}</div>
    {% endif %}
  </div>
</div>
