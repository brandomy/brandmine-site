{% comment %}
  Founder Narrative Section
  Displays: Founder information, leadership status, generational context
  Supports: Both YAML and JSON data sources
{% endcomment %}

{% assign brand = include.brand %}
{% assign data_source = include.data_source | default: "curated" %}

{% comment %} Check if we have founder information {% endcomment %}
{% assign has_founders = false %}
{% if brand.founders and brand.founders.size > 0 %}
  {% assign has_founders = true %}
{% endif %}

{% if has_founders or brand.founder_led %}
<h2 id="heading-founder-narrative" class="panel__heading-secondary">
      {% include helpers/t.html key="brand.founders_journey" fallback="Founder Leadership" lang=brand.lang %}
    </h2>
    
    <div class="founder-narrative">
      {% if has_founders %}
        <div class="founder-list">
          {% for founder_key in brand.founders %}
            {% comment %} Look up founder in founders.json {% endcomment %}
            {% assign founder = site.data.founders.founders | where: "ref", founder_key | first %}
            {% if founder %}
            <div class="founder-card">
              <div class="founder-card__header">
                <h3 class="founder-card__name">{{ founder.name }}</h3>
                {% if founder.position %}
                  <p class="founder-card__title">{{ founder.position }}</p>
                {% endif %}
              </div>
              
              {% if founder.brief_bio %}
                <p class="founder-card__bio">{{ founder.brief_bio }}</p>
              {% endif %}
              
              {% if founder.generation %}
              <div class="founder-card__meta">
                <span class="meta-label">{% include helpers/t.html key="brand.generation" fallback="Generation" lang=brand.lang %}:</span>
                <span class="meta-value">{{ founder.generation | capitalize }}</span>
              </div>
              {% endif %}
              
              {% comment %} Link to founder profile {% endcomment %}
              <a href="{{ site.baseurl }}/{{ brand.lang }}/founders/{{ founder.ref }}/" class="founder-card__link">
                {% include helpers/t.html key="buttons.view_founder" fallback="View Founder Profile" lang=brand.lang %} â†’
              </a>
            </div>
            {% endif %}
          {% endfor %}
        </div>
      {% endif %}
      
      {% if brand.founder_led %}
        <div class="founder-status">
          <span class="status-badge status-badge--active">
            {% include helpers/t.html key="attributes.founder-led" fallback="Founder-Led" lang=brand.lang %}
          </span>
        </div>
      {% endif %}
    </div>
{% endif %}