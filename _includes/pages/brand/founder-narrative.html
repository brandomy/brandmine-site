{% comment %}
  Founder Narrative Section
  Displays: Founder information, leadership status, generational context
  Supports: Both YAML and JSON data sources
{% endcomment %}

{% assign brand = include.brand %}
{% assign data_source = include.data_source | default: "curated" %}
{% assign t = site.data.translations[brand.lang].brand %}

{% comment %} Check if we have founder information {% endcomment %}
{% assign has_founders = false %}
{% if brand.founders and brand.founders.size > 0 %}
  {% assign has_founders = true %}
{% endif %}

{% if has_founders or brand.founder_led %}
<div class="panel panel--secondary-soft">
  <div class="panel__content">
    <h2 id="heading-founder-narrative" class="panel__heading-secondary">
      {{ t.founders_journey | default: "Founder Leadership" }}
    </h2>
    
    <div class="founder-narrative">
      {% if has_founders %}
        <div class="founder-list">
          {% for founder_key in brand.founders %}
            {% comment %} Look up founder in founders.json {% endcomment %}
            {% assign founder = site.data.founders.founders | where: "ref", founder_key | first %}
            {% if founder %}
            <div class="founder-card">
              <div class="founder-card__header">
                <h3 class="founder-card__name">{{ founder.name }}</h3>
                {% if founder.position %}
                  <p class="founder-card__title">{{ founder.position }}</p>
                {% endif %}
              </div>
              
              {% if founder.brief_bio %}
                <p class="founder-card__bio">{{ founder.brief_bio }}</p>
              {% endif %}
              
              {% if founder.generation %}
              <div class="founder-card__meta">
                <span class="meta-label">{{ t.generation | default: "Generation" }}:</span>
                <span class="meta-value">{{ founder.generation | capitalize }}</span>
              </div>
              {% endif %}
              
              {% comment %} Link to founder profile {% endcomment %}
              <a href="{{ site.baseurl }}/{{ brand.lang }}/founders/{{ founder.ref }}/" class="founder-card__link">
                {{ site.data.translations[brand.lang].buttons.view_founder | default: "View Founder Profile" }} â†’
              </a>
            </div>
            {% endif %}
          {% endfor %}
        </div>
      {% endif %}
      
      {% if brand.founder_led %}
        <div class="founder-status">
          <span class="status-badge status-badge--active">
            {{ site.data.translations[brand.lang].attributes.founder-led | default: "Founder-Led" }}
          </span>
        </div>
      {% endif %}
    </div>
  </div>
</div>
{% endif %}