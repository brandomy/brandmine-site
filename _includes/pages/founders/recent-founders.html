{% comment %}
  Component: pages/founders/recent-founders.html

  Purpose: Displays recently added founders section

  Parameters:
    title (optional): Custom section title, defaults to founder.recently_added translation
    limit (optional): Number of recent founders to display, defaults to 4
    panel_type (optional): Panel background style, defaults to "light"

  Dependencies:
    - CSS: pages/founders/recent-founders.scss
    - _includes/components/cards/founder-card.html
    - site.data.translations for labels
{% endcomment %}

{% assign panel_type = include.panel_type | default: "light" %}
{% assign limit = include.limit | default: 4 %}

<div class="panel panel--{{ panel_type }}">
  <div class="panel__content">
    {% if include.title %}
      {% assign section_title = include.title %}
    {% else %}
      {% capture section_title %}{% include helpers/t.html key="founders.recent.title" fallback="Recently Added Founders" %}{% endcapture %}
    {% endif %}
    <h2 class="panel__heading-secondary">
      {{ section_title }}
    </h2>

    {% capture description_text %}{% include helpers/t.html key="founders.recent.description" fallback="Meet the newest founder profiles added to our growing network of BRICS+ business leaders." %}{% endcapture %}
    {% if description_text %}
      <p class="panel__lead-text">
        {{ description_text }}
      </p>
    {% endif %}

    <div class="recent-founders__grid">
      {% assign recent_founders = site.founders | where: "lang", page.lang | sort: "date" | reverse | limit: limit %}
      {% for founder in recent_founders %}
        {% include components/cards/founder-card.html founder=founder %}
      {% endfor %}
    </div>

    {% capture view_all_text %}{% include helpers/t.html key="founders.recent.view_all" fallback="View All Recent Founders" %}{% endcapture %}
    {% if view_all_text %}
      <div class="recent-founders__footer">
        <a href="{{ site.baseurl }}/{{ page.lang }}/founders/?sort=recent" class="btn btn--primary">
          {{ view_all_text }}
        </a>
      </div>
    {% endif %}
  </div>
</div>
