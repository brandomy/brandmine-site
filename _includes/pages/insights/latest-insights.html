{% comment %}
  Component: pages/insights/latest-insights.html
  Purpose: Latest insights section for the insights page
  Parameters:
    - heading: The heading for the section (default: Latest Insights)
    - panel_type: The type of panel to use (default: secondary-soft)
    - limit: The number of latest insights to display (default: 6)
  Dependencies:
    - assets/css/pages/insights/latest-insights.scss
    - _includes/components/cards/insight-card.html
{% endcomment %}

{% assign heading = include.heading | default: site.data.translations[page.lang].insights.latest_heading | default: "Latest Insights" %}
{% assign panel_type = include.panel_type | default: "secondary-soft" %}
{% assign limit = include.limit | default: 6 %}

<div class="panel panel--{{ panel_type }}">
  <div class="panel__content">
    <h2 class="panel__heading-secondary">{{ heading }}</h2>
    
    <div class="insights-latest__grid">
      {% assign latest_insights = site.insights | where: "lang", page.lang | sort: "date" | reverse | limit: limit %}
      {% if latest_insights.size > 0 %}
        {% for insight in latest_insights %}
          {% include components/cards/insight-card.html insight=insight %}
        {% endfor %}
      {% else %}
        <div class="insights-latest__empty">
          <p>{{ site.data.translations[page.lang].insights.no_insights | default: "No insights available yet." }}</p>
        </div>
      {% endif %}
    </div>
  </div>
</div>