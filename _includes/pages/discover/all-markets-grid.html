{% comment %}
  All Markets Grid (JSON Version)
  Displays a grid of all market items used in the discovery section.
  Used in: /discover/markets/
{% endcomment %}

{% assign markets = site.data.markets.markets %}

<div class="markets-grid">
  {% for market in markets %}
    <div class="market-card">
      <div class="market-card__icon">
        {% if market.icon %}
          <img src="{{ '/assets/images/icons/' | append: market.icon | relative_url }}" alt="{{ market.name[page.lang] }} icon">
        {% else %}
          <div class="market-card__placeholder-icon"></div>
        {% endif %}
      </div>

      <h3 class="market-card__title">{{ market.name[page.lang] }}</h3>

      <p class="market-card__description">{{ market.description[page.lang] }}</p>

      <a href="{{ site.baseurl }}/{{ page.lang }}/discover/markets/{{ market.id }}/" class="market-card__link">
        {% include helpers/t.html key="discover.explore_market" fallback="Explore Market" %}
      </a>
    </div>
  {% endfor %}
</div>
