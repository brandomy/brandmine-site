{% comment %}
  Include Name: tag-list.html
  
  Purpose: Renders a list of tags with appropriate styling and links to tag-specific pages.
  Used across brand pages, discovery sections, and filtering components.
  
  Parameters:
  - tags: Array of tag values (required)
  - type: Type of tags to display - one of 'sector', 'market', 'attribute', or 'signal'
          (optional, default: 'sector')
  
  Dependencies:
  - Requires page.lang to be set for proper URL construction
  - Requires site.data.tags structure for tag name localization
  - CSS: tags.css for styling
  
  Example Usage:
  {% include tag-list.html tags=brand.sectors type="sector" %}
  {% include tag-list.html tags=brand.attributes type="attribute" %}
  
  Notes:
  - Automatically converts tag type to plural form for URL construction
  - Applies type-specific styling via CSS classes (tag--sector, tag--market, etc.)
  - Skips rendering if tags array is empty
  - Tries to localize tag names from site.data.tags, falls back to provided tag value
{% endcomment %}

{% if include.tags.size > 0 %}
  <div class="tag-list">
    {% for tag in include.tags %}
      {% assign tag_slug = tag | slugify %}
      {% assign tag_type = include.type | default: 'sector' %}
      
      {% comment %}Use pluralized tag type in URL for consistency{% endcomment %}
      {% assign url_type = tag_type | append: 's' %} 
      {% if tag_type == 'attribute' %}
        {% assign url_type = 'attributes' %}
      {% elsif tag_type == 'market' %}
        {% assign url_type = 'markets' %}
      {% elsif tag_type == 'signal' %}
        {% assign url_type = 'signals' %}
      {% elsif tag_type == 'sector' %}
        {% assign url_type = 'sectors' %}
      {% endif %}
      
      <a href="{{ site.baseurl }}/{{ page.lang }}/discover/{{ url_type }}/{{ tag_slug }}/" class="tag-list__item tag tag--{{ tag_type }}">
        {{ site.data.tags[page.lang][tag_type][tag_slug] | default: tag }}
      </a>
    {% endfor %}
  </div>
{% endif %}